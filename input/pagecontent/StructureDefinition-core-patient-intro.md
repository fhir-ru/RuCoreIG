# Core_Patient — Профиль пациента

## Принятые решения по профилированию

| Бизнес-требование | Атрибут | Решение по профилированию |
|-------------------|---------|---------------------------|
| Необходима возможность указать СНИЛС | identifier[snils] | Определен вариант идентификатора - СНИЛС |
| Необходима возможность указать ИНН | identifier[inn] | Определен вариант идентификатора - ИНН |
| Необходима возможность указать Документ, удостоверяющий личность | identifier[identityDocument] | Определен вариант идентификатора - Документ, удостоверяющий личность |
| Необходима возможность указать полис ОМС | identifier[omsPolicy] | Определен вариант идентификатора – Полис ОМС. Этот атрибут должен использоваться в случаях, когда передача полиса ОМС проводится в целях идентификации пациента. В случаях, когда полис ОМС передается как информация о страховом покрытии, например для указания источника финансирования оказываемых услуг, следует передавать полис ОМС в виде экземпляра ресурса Coverage. Определяем справочник типов полисов ОМС в соответствии с НСИ МЗ РФ. |
| Указание отчества | name.given | Используется массив, первым должно идти имя, вторым - отчество |
| Указание пола, так чтобы это соответствовало справочнику МЗРФ | gender | Используются позиции: male \| female \| unknown. В комментарии к атрибуту указываем, что Other - не используется для совместимости со Справочником НСИ Пол пациента |
| Описание адреса пациента должно соответствовать требованиям РФ | address | Должен быть представлен профилем Core_Address |
| Описание организации прикрепления должно соответствовать требованиям РФ | managingOrganization | Должен быть представлен профилем Core_Organization |

## Описание профиля

Профиль Core_Patient расширяет стандартный ресурс Patient для поддержки российских требований:
- Использование российских идентификаторов (СНИЛС, ИНН, документ, удостоверяющий личность, полис ОМС)
- Поддержка отчества в структуре имени
- Использование справочника НСИ МЗ РФ для пола пациента
- Использование профиля Core_Address для адресов
- Использование профиля Core_Organization для организации прикрепления

### Используемые справочники и системы идентификации
- [СНИЛС](https://www.pfrf.ru/) (Страховой номер индивидуального лицевого счета)
- [ИНН](https://www.nalog.gov.ru/) (Индивидуальный номер налогоплательщика)

---

### FSH-код профиля

```fsh
Profile: Core_Patient
Parent: Patient
Id: core-patient
Title: "Core Patient (Пациент)"
Description: "Базовый профиль пациента для российских FHIR-реализаций"

* identifier contains
    snils 0..1 and
    inn 0..1 and
    identityDocument 0..1 and
    omsPolicy 0..1

* identifier[snils] ^short = "СНИЛС"

* identifier[inn] ^short = "ИНН"

* identifier[identityDocument] ^short = "Документ, удостоверяющий личность"

* identifier[omsPolicy] ^short = "Полис ОМС"

* name.given ^short = "Имя и отчество"
* name.given ^comment = "Первым элементом должно быть имя, вторым - отчество"

* gender ^comment = "Используются только male, female, unknown. Other не используется для совместимости со Справочником НСИ Пол пациента"

* address only Core_Address

* managingOrganization only Reference(Core_Organization)
``` 